<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <title>ガチャ</title>

</head>
<script src="script/jquery-3.1.1.min.js"></script>

<style>
  #button {
    width: 250px;
    height: 60px;
    padding: 10px;
    font-size: 30px;


  }

  .columns {
    /* margin: 0 auto; */
    /* clear: left; */
    margin-bottom: 30px;
    text-align: center;
    white-space: nowrap;
  }

  .column {
    margin: 10px;
  }

  img {
    display: inline-block;
    background: #ffff00;
    width: 10em;

  }

  #button-div {
    text-align: center;
    margin-bottom: 40px;
  }
</style>

<body>


  <div class="columns">
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>

  </div>

  <div class="columns">
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>

  </div>

  <div class="columns">
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>
    <a class="column" draggable="true">
      <img class="img" src="" id="ball">
    </a>

  </div>

  <div id="button-div">
    <button id="button">ガチャを引く</button>
  </div>

  <div id="button-div">
    <button id="teaming-button">編成へ</button>
  </div>


  <script>
    const btn = document.getElementById('button');
    const team_btn = document.getElementById('teaming-button');

    var answer = document.querySelectorAll(".columns img");

    var id;
    var id1;
    var id2;
    var id3;
    var id4;
    var id5;
    var id6;
    var id7;
    var id8;
    var id9;
    var id10;
    var n2;
    var n3;

    btn.addEventListener('click', () => {

      for (var i = 0; 0 < answer.length; i++) {
        const n = Math.random();

        if (n < 0.8) {
          var gr = 3;
        } else {
          var gr = 2;
        };

        switch (gr) {

          case 3:
            const results = ["assets/jeeta.png", "assets/katarina.png", "assets/rakamu.png", "assets/io.png", "assets/oigen.png",
              "assets/rozetta.png", "assets/risya.png", "assets/monika.png", "assets/syero.png", "assets/vira.png", "assets/kurokisi.png", "assets/okisu.png", "assets/suturumu.png", "assets/doranku.png"];
            n2 = Math.floor(Math.random() * results.length);
            answer[i].src = results[n2];
            break;

          case 2:
            const results2 = ["assets/ruria.png", "assets/b.png"];
            n3 = Math.floor(Math.random() * results2.length);
            answer[i].src = results2[n3];
            break;
        };

        const gachaResult = answer[i].src;
        console.log(gachaResult);

        switch (gachaResult) {
          case "http://hp1366.neecbox.net/GachaBlue/assets/jeeta.png":
            id = 1;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/ruria.png":
            id = 2;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/b.png":
            id = 3;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/katarina.png":
            id = 4;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/rakamu.png":
            id = 5;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/io.png":
            id = 6;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/oigen.png":
            id = 7;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/rozetta.png":
            id = 8;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/risya.png":
            id = 9;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/monika.png":
            id = 10;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/syero.png":
            id = 11;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/vira.png":
            id = 12;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/kurokisi.png":
            id = 13;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/okisu.png":
            id = 14;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/suturumu.png":
            id = 15;
            break;
          case "http://hp1366.neecbox.net/GachaBlue/assets/doranku.png":
            id = 16;
            break;
        };
        if (answer[1] && gr == 3) {
          console.log(id);
          //id1 = n2;
        } else if (answer[1]) {
          //id1 = n3;

        }

      }



    });

    team_btn.addEventListener('click', () => {
      location.href = `teaming.php?id1=` + encodeURIComponent(id1)
    });
  </script>
</body>

</html>